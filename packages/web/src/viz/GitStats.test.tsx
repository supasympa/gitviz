import React from 'react';
import { shallow } from 'enzyme';

import { GitStats, calculate } from './GitStats';

describe('GitStats', () => {
    it('renders without crashing', () => {
        const gld = {};
        const wrapper = shallow(<GitStats gitLogData={gld}/>);
        expect(wrapper).toBeTruthy();
    });

    it('average commits per file', () => {
        const gld = getChanges();
        expect(calculate(gld)).toEqual({ 
            commitFiles: 532,
            commits: 311,
            commitsPerFile: 0.5845864661654135,            
        });
    });
});

const getChanges = () => (
    {
        "packages/react-dom/src/__tests__/ReactDOMServerPartialHydration-test.internal.js": [
            1550610461000,
            1549949144000
        ],
        "packages/react-dom/src/__tests__/ReactDOMServerSuspense-test.internal.js": [
            1550610461000,
            1549949144000,
            1541729706000,
            1540273205000,
            1539187324000
        ],
        "packages/react-dom/src/client/ReactDOMHostConfig.js": [
            1550610461000,
            1549949144000,
            1549365685000,
            1542670374000,
            1541532284000,
            1541437687000,
            1540932471000,
            1539902236000,
            1539073626000,
            1537913502000,
            1537316788000,
            1536358283000,
            1535999270000,
            1535991473000,
            1535935512000,
            1535828400000,
            1535382984000,
            1534554620000,
            1534537057000,
            1533834305000,
            1533139683000,
            1533136594000,
            1530670961000,
            1527625804000,
            1526921688000,
            1526725751000,
            1526477766000,
            1526343148000
        ],
        "packages/react-dom/src/server/ReactPartialRenderer.js": [
            1550610461000,
            1550173823000,
            1549949144000,
            1548278889000,
            1546987192000,
            1541806700000,
            1541729706000,
            1541611178000,
            1541466911000,
            1541451897000,
            1540837613000,
            1540053983000,
            1540021353000,
            1539973112000,
            1539919203000,
            1539917832000,
            1539352022000,
            1539187324000,
            1537978382000,
            1536358283000,
            1536185099000,
            1534980245000,
            1533308997000,
            1533151399000,
            1531854903000,
            1531776719000,
            1531446337000,
            1531405926000,
            1531334634000,
            1529608881000,
            1529420625000,
            1529412102000,
            1529084714000,
            1529082765000,
            1528746759000,
            1528723518000,
            1526408189000,
            1525991132000,
            1522876866000,
            1522716445000,
            1521058078000,
            1520890247000,
            1520101677000,
            1518004313000,
            1517989873000,
            1517866747000,
            1517850549000,
            1517512557000,
            1517346372000,
            1517242010000,
            1516973645000,
            1516851382000,
            1516383406000,
            1515515089000,
            1513119880000,
            1512481677000,
            1511991938000,
            1511476888000,
            1511459098000,
            1511377133000,
            1511374102000,
            1510078173000,
            1509883116000,
            1509654768000,
            1509652203000,
            1509453328000,
            1509411160000,
            1509037169000,
            1508954874000,
            1508889300000,
            1508436727000,
            1508431420000,
            1508427999000,
            1508368941000
        ],
        "packages/react-reconciler/src/ReactFiberBeginWork.js": [
            1550610461000,
            1550016010000,
            1549949144000,
            1548375013000,
            1548270738000,
            1548102878000,
            1548089875000,
            1548086508000,
            1548084947000,
            1547688215000,
            1544814203000,
            1543521988000,
            1542915642000,
            1542732001000,
            1542670374000,
            1541806181000,
            1541787469000,
            1541729622000,
            1541726803000,
            1541634390000,
            1541627772000,
            1541617017000,
            1541534054000,
            1541464370000,
            1541045571000,
            1540938380000,
            1540837613000,
            1540319816000,
            1540273035000,
            1540053983000,
            1540020736000,
            1540012965000,
            1540006304000,
            1540005122000,
            1539999707000,
            1539917832000,
            1539913990000,
            1539902891000,
            1539902236000,
            1539527752000,
            1539362807000,
            1539310514000,
            1539288282000,
            1539187324000,
            1538691072000,
            1538689486000,
            1538165101000,
            1538087138000,
            1537978382000,
            1537915786000,
            1537892861000,
            1536358283000,
            1535316027000,
            1534777726000,
            1534436519000,
            1534357193000,
            1533746573000,
            1533270187000,
            1532724137000,
            1532553747000,
            1532130546000,
            1531854903000,
            1531776719000,
            1531446337000,
            1531405926000,
            1531140984000,
            1530922181000,
            1530672420000,
            1530672259000,
            1530670961000,
            1529420625000,
            1527285073000,
            1527110199000,
            1526725751000,
            1526408189000,
            1526317651000,
            1526002441000,
            1526000950000,
            1525991132000,
            1525275316000,
            1525205060000,
            1524876768000,
            1524772757000,
            1524768454000,
            1524463528000,
            1524400778000,
            1522867454000,
            1522716445000,
            1522347362000,
            1521657772000,
            1521551219000,
            1521167264000,
            1521058078000,
            1520890247000,
            1520888253000,
            1520887158000,
            1519696207000,
            1519436322000,
            1519329977000,
            1518034422000,
            1517346372000,
            1517281919000,
            1516919453000,
            1516851382000,
            1516844983000,
            1516835185000,
            1516383406000,
            1515515089000,
            1515466202000,
            1515356105000,
            1513119880000,
            1512491085000,
            1512481677000,
            1512086345000,
            1511916623000,
            1510944594000,
            1510880333000,
            1510448433000,
            1509984428000,
            1509654768000,
            1509652203000,
            1509451375000,
            1508959435000,
            1508954874000,
            1508889300000,
            1508439024000,
            1508376503000,
            1508368941000
        ],
        "packages/react-reconciler/src/ReactFiberCommitWork.js": [
            1550610461000,
            1549949144000,
            1549910273000,
            1549759375000,
            1548958307000,
            1548278889000,
            1544814203000,
            1543352713000,
            1543323910000,
            1542732001000,
            1542643751000,
            1542641086000,
            1542625094000,
            1541726803000,
            1541543330000,
            1541534054000,
            1541464370000,
            1541451897000,
            1541195025000,
            1540934060000,
            1540837614000,
            1540837613000,
            1540837613000,
            1540837613000,
            1540837613000,
            1540330024000,
            1540319816000,
            1540012965000,
            1539902236000,
            1539187324000,
            1536873796000,
            1536358283000,
            1536195312000,
            1535828400000,
            1535507891000,
            1535316027000,
            1534436519000,
            1534356131000,
            1534192435000,
            1533906368000,
            1533230207000,
            1531855095000,
            1531787733000,
            1531776719000,
            1531405926000,
            1530922181000,
            1530890729000,
            1530672420000,
            1530672259000,
            1530670961000,
            1529429659000,
            1529420625000,
            1527285073000,
            1526921362000,
            1526725751000,
            1526573652000,
            1526408189000,
            1526000950000,
            1525991132000,
            1524463528000,
            1522096090000,
            1521841973000,
            1521650304000,
            1521117050000,
            1521045800000,
            1519436322000,
            1517948389000,
            1516643915000,
            1512481677000,
            1512086345000,
            1510448433000,
            1510078173000,
            1509984428000,
            1509977688000,
            1509654768000,
            1509652203000,
            1508959435000,
            1508954874000,
            1508889300000,
            1508439024000,
            1508376503000,
            1508368941000
        ],
        "packages/react-reconciler/src/ReactFiberCompleteWork.js": [
            1550610461000,
            1549949144000,
            1547688215000,
            1541726803000,
            1541617017000,
            1541464370000,
            1540319816000,
            1540053983000,
            1540020736000,
            1540014457000,
            1540012965000,
            1539917832000,
            1539902236000,
            1539187324000,
            1538689486000,
            1538087138000,
            1536602740000,
            1536358283000,
            1535316027000,
            1534526026000,
            1534436519000,
            1533746573000,
            1530815886000,
            1530672420000,
            1529420625000,
            1527285073000,
            1526725751000,
            1526408189000,
            1526000950000,
            1525991132000,
            1524463528000,
            1523208577000,
            1523204942000,
            1521167264000,
            1521058078000,
            1519716893000,
            1519436322000,
            1516851382000,
            1516844983000,
            1515167539000,
            1513119880000,
            1512086345000,
            1511916623000,
            1510448433000,
            1509977688000,
            1509654768000,
            1509652203000,
            1508959435000,
            1508954874000,
            1508889300000,
            1508439024000,
            1508376503000,
            1508368941000
        ],
        "packages/react-reconciler/src/ReactFiberScheduler.js": [
            1550610461000,
            1550164849000,
            1550002715000,
            1549949144000,
            1549759429000,
            1549441001000,
            1549383016000,
            1549365685000,
            1548808335000,
            1548278889000,
            1548099858000,
            1546987192000,
            1545324707000,
            1544814203000,
            1542670374000,
            1541795823000,
            1541726672000,
            1541634390000,
            1541617017000,
            1541547492000,
            1541464370000,
            1541451897000,
            1541079106000,
            1541045571000,
            1540938380000,
            1540932471000,
            1540837614000,
            1540837613000,
            1540837613000,
            1540837613000,
            1540837613000,
            1540837613000,
            1540837613000,
            1540012965000,
            1540005122000,
            1539999707000,
            1539917832000,
            1539902560000,
            1539902236000,
            1539187324000,
            1538691072000,
            1538682952000,
            1538611381000,
            1538581245000,
            1538165101000,
            1537978382000,
            1537892861000,
            1537837169000,
            1537316788000,
            1537282098000,
            1536959155000,
            1536873796000,
            1536593576000,
            1536358283000,
            1536242822000,
            1536195312000,
            1536157770000,
            1536007576000,
            1536004633000,
            1535999270000,
            1535828400000,
            1535507891000,
            1535476371000,
            1535390865000,
            1535316027000,
            1534436519000,
            1534356131000,
            1534192435000,
            1533916266000,
            1533906368000,
            1533746573000,
            1533603558000,
            1533172277000,
            1532130546000,
            1531962970000,
            1531855095000,
            1531786316000,
            1531776719000,
            1531446337000,
            1531405926000,
            1530922181000,
            1530917431000,
            1530910518000,
            1530890729000,
            1530815886000,
            1530672259000,
            1530670961000,
            1529603546000,
            1529508903000,
            1529429816000,
            1529429659000,
            1529420625000,
            1529019450000,
            1529015367000,
            1528912034000,
            1528581381000,
            1528402328000,
            1527375357000,
            1527285073000,
            1527028682000,
            1526921362000,
            1526725751000,
            1526573652000,
            1526413422000,
            1526002441000,
            1526000950000,
            1525991132000,
            1524463528000,
            1523456836000,
            1522716352000,
            1522710510000,
            1522708053000,
            1522606237000,
            1522347971000,
            1522336882000,
            1522287702000,
            1522286289000,
            1522190233000,
            1522096090000,
            1521167264000,
            1519436322000,
            1517510299000,
            1517383042000,
            1517298550000,
            1517294195000,
            1517281919000,
            1516858900000,
            1516851382000,
            1516844983000,
            1516744915000,
            1515466202000,
            1512481677000,
            1512426842000,
            1512086345000,
            1511916515000,
            1511902652000,
            1511399722000,
            1510944594000,
            1510880342000,
            1510782377000,
            1510777041000,
            1510448433000,
            1510316065000,
            1510078173000,
            1510073568000,
            1509984428000,
            1509654768000,
            1509652203000,
            1509630208000,
            1509474183000,
            1509457577000,
            1509453328000,
            1508975505000,
            1508959435000,
            1508954874000,
            1508889300000,
            1508530949000,
            1508439024000,
            1508376503000,
            1508368941000
        ]
    }
)